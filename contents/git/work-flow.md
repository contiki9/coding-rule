# Git のワークフロー

一人での開発の場合、`github flow`を好み、複数人の開発では、`git flow`を好みます。

## 使用するブランチの役割

- `release` ブランチ
  - 現在本番環境にリリースされているブランチ
- `master` ブランチ
  - 常時デプロイ可能なブランチ
- `feature` ブランチ
  - `master` ブランチから生やしたブランチ。各 issue,または epic 毎に作る
- `topic` ブランチ
  - `feature` ブランチから生やしたブランチ。`feature` ブランチにマージされる。
- `hotfix` ブランチ
  - `release` ブランチから生やしたブランチ。緊急対応のときに利用する。

## 通常の開発のブランチ管理の流れ

1. `master` から `feature` ブランチを切る
2. `feature` ブランチまたは `feature` ブランチの子ブランチ（topic ブランチ）で作業
3. 作業完了及びデバッグ完了したら親ブランチ(枝元のブランチ)にプルリクエストを出す
4. コードレビューとデバックが終わったらマージ後、`feature` ブランチの削除をして、すぐに `master` に取り込む。
5. プロジェクト管理をしている場合はチケットを本番反映済みにする

## 緊急不具合対応の場合

1. `master` から `hotfix` ブランチを生やす。修正の規模が大きい場合は `hotfix` ブランチから `feature` ブランチを生やす
2. `feature` ブランチで作業完了及びデバッグ完了したら `hotfix` ブランチにプルリクエストを出しレビュアーにマージしてもらう
3. `hotfix` ブランチを `release` ブランチにマージ。その後、`release` ブランチを `master` ブランチマージする。

## 基本原則

- 機能追加、バグフィックスなどは issue の番号と説明的な名前のブランチ名にして master から作成する
  - `hotfix`ブランチの場合は`hotfix/` + `issue の番号` と説明的な名前のブランチ名で命名する
  - ブランチ名で複数の単語を使う場合は`-`を使う
- 作成したブランチでローカル開発。小さい単位でこまめにコミットし、リモートにもこまめに Push する
- フィードバックや助言が欲しい時、ブランチをマージしてもよいと思ったときは、Pull Request を作成する
  - フィードバックや助言が欲しい時、または作りかけの Pull Request には[WIP] をつける
